在一个数据表中，如果想要对满足一定取值规则的行进行标记，pandas 也能非常方便地实现解决，本案例求我们就来完成这样的一个常见的需求。这个问题来自于知乎。

## 数据与需求

原数据如下：

```python
dct = {
'A': [7, 8, 1, 10, 4, 7, 10], 
'B': [4, 2, 6, 5, 3, 10, 6], 
'C': [6, 1, 10, 4, 2, 7, 6], 
'D': [4, 1, 8, 6, 4, 10, 10], 
'E': [5, 5, 8, 2, 1, 10, 9], 
'F': [4, 2, 6, 9, 9, 1, 9], 
'G': [5, 4, 1, 8, 6, 9, 1]
}

df = pd.DataFrame(dct)
df
'''
    A   B   C   D   E  F  G
0   7   4   6   4   5  4  5
1   8   2   1   1   5  2  4
2   1   6  10   8   8  6  1
3  10   5   4   6   2  9  8
4   4   3   2   4   1  9  6
5   7  10   7  10  10  1  9
6  10   6   6  10   9  9  1
'''
```

需求为增加一列，标记该行如果包含 4 或者 5 为 True，否则为 False。

## 思路

先判断 DataFrame 上每个值是否为 4 或者 5，得到一个布尔值 DataFrame，满足条件的位置为 True。

然后再判断整行是否有 True，得到一个布尔序列，最后将这个布尔序列增加为一个新列。

## 代码

```python
import pandas as pd
import numpy as np

dct = {
	'A': [7, 8, 1, 10, 4, 7, 10], 
	'B': [4, 2, 6, 5, 3, 10, 6], 
	'C': [6, 1, 10, 4, 2, 7, 6], 
	'D': [4, 1, 8, 6, 4, 10, 10], 
	'E': [5, 5, 8, 2, 1, 10, 9], 
	'F': [4, 2, 6, 9, 9, 1, 9], 
	'G': [5, 4, 1, 8, 6, 9, 1]
	}

df = pd.DataFrame(dct)
df
df.assign(res = df.apply(lambda x: x.isin([4, 5]).any(), axis=1))
```

